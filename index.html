<!DOCTYPE html>
<html>
<body>

<link href="styles.css" rel="stylesheet">
<script src="https://code.jquery.com/jquery.js"></script>


<h1>Light Controller</h1>

<center><img id="myImage" onclick="toggleImage()" src="lightoff.png" > </center>


<div class = "wrapper">
        <input class="bulb" id="yellow" type="submit" value="Yellow" onclick="yellowColor()"/> 
        <input class="bulb" id="red" type="submit" value="Red" onclick="redColor()"/> 
        <input class="bulb" id="green" type="submit" value="Green" onclick="greenColor()"/> 
        <input class="bulb" id="blue" type="submit" value="Blue" onclick="blueColor()"/> 
</div>
      
<script>
var image = document.getElementById('myImage');
var bulbColor = "yellow"; 
</script>

<script>
    
function toggleImage() {
     
     $.ajax({url: "https://maker.ifttt.com/trigger/toggle_light/with/key/du5zwwbbpFzqIJZiQrJkyP", 
            success: function (result) {
                    console.log("success")}});

    if (image.src.match("lightoff")) {
        console.log(bulbColor)
        
         if (bulbColor == "red") {
            console.log("the bulb is now red")
            image.src = "lightsonred.png";
        }

         else if (bulbColor == "green") {
            image.src = "lightsongreen.png"
         }


        else if(bulbColor =="yellow") {
            image.src = "lightsonyellow.png";
        }

         else if (bulbColor == "blue") {
             image.src = "lightsonblue.png"
         }



    

    } else  {
        image.src = "lightoff.png";
    }
}

function yellowColor() {
    bulbColor = "yellow" ;

     $.ajax({url: "ttps://maker.ifttt.com/trigger/turn_light_yellow/with/key/du5zwwbbpFzqIJZiQrJkyP", 
            success: function (result) {
                    console.log("success")}});

}

function redColor() {
    status = "Light is On";
    bulbColor = "red"
    image.src = "lightsonred.png";
    console.log(bulbColor);

     $.ajax({url: "https://maker.ifttt.com/trigger/turn_light_red/with/key/du5zwwbbpFzqIJZiQrJkyP", 
            success: function (result) {
                    console.log("success")}});
}

function greenColor(){
    bulbColor = "green" ;
    console.log('green');
    image.src = "lightsongreen.png"


$.ajax({url: "https://maker.ifttt.com/trigger/turn_light_green/with/key/du5zwwbbpFzqIJZiQrJkyP", 
            success: function (result) {
                    console.log("success")}});
}

function blueColor() {
    bulbColor = "blue" ;
    console.log("blue");
    image.src = "lightsonblue.png";

    $.ajax({url: "https://maker.ifttt.com/trigger/turn_light_blue/with/key/du5zwwbbpFzqIJZiQrJkyP", 
            success: function (result) {
                    console.log("success")}});

}

function yellowColor () {
    bulbColor = "yellow" ;
    console.log("yellow");
    image.src = "lightsonyellow.png"
}

</script>
	



</body>
</html>
